<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
    

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.4"/>


    <meta name="description" content="hitlolo's Blog | IOS" />



  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/img/favicon.png?v=0.4.4" />


<meta name="description" content="前言当用户在操作系统中点击一个App程序后，该App即在系统中启动。App启动后，将从main函数出发，调用UIApplicationMain方法，UIApplicationMain创建UIApplication实例和UIApplicationDelegate实例，并在Main Thread开启Main run loop来处理事件循环。main run loop执行于main thread上，并负">
<meta property="og:type" content="article">
<meta property="og:title" content="UIApplication">
<meta property="og:url" content="www.hitlolo.com/2015/05/01/IOS_CocoaTouch/IOS开发_1_uiapplication/index.html">
<meta property="og:site_name" content="Into the Wild!">
<meta property="og:description" content="前言当用户在操作系统中点击一个App程序后，该App即在系统中启动。App启动后，将从main函数出发，调用UIApplicationMain方法，UIApplicationMain创建UIApplication实例和UIApplicationDelegate实例，并在Main Thread开启Main run loop来处理事件循环。main run loop执行于main thread上，并负">
<meta property="og:image" content="http://i3.tietuku.com/6e948efc59aaf344.png">
<meta property="og:image" content="http://i1.tietuku.com/dd51a51b1c13d769.png">
<meta property="og:image" content="http://i1.tietuku.com/4e5a56058c7c004c.jpg">
<meta property="og:updated_time" content="2015-09-04T18:27:35.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="UIApplication">
<meta name="twitter:description" content="前言当用户在操作系统中点击一个App程序后，该App即在系统中启动。App启动后，将从main函数出发，调用UIApplicationMain方法，UIApplicationMain创建UIApplication实例和UIApplicationDelegate实例，并在Main Thread开启Main run loop来处理事件循环。main run loop执行于main thread上，并负">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post'
  };
</script>

    <title> UIApplication // Into the Wild! </title>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="">
<!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->




<div class="container one-column page-post-detail">
    <div class="headband"></div>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner">

 <h1 class="site-meta">
  
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Into the Wild!</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  
 
  
    <ul id="menu" class="menu ">
       
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-home"></i> <br />
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            <i class="menu-item-icon icon-about"></i> <br />
            關於
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-archives"></i> <br />
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            <i class="menu-item-icon icon-categories"></i> <br />
            分類
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-tags"></i> <br />
            標籤
          </a>
        </li>
      
      
    </ul>
  

  
</nav>


        </div>
    </header>

    <main id="main" class="main">
        <div class="main-inner">
            <div id="content" class="content">
                

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              UIApplication
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-05-01T20:00:19+08:00" content="2015-05-01">
            2015-05-01
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

              
              
                ， 
              

            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/iOS/Cocoa-Touch/" itemprop="url" rel="index"><span itemprop="name">Cocoa Touch</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      

      
        <span itemprop="articleBody"><h1 id="前言">前言</h1><p>当用户在操作系统中点击一个App程序后，该App即在系统中启动。<br>App启动后，将从main函数出发，调用UIApplicationMain方法，UIApplicationMain创建UIApplication实例和UIApplicationDelegate实例，并在Main Thread开启Main run loop来处理事件循环。main run loop执行于main thread上，并负责处理所有用户事件以及更新用户界面。<br>开始执行一系列工作。<br>从某种角度上来看，App做的工作也很简单，三件事：</p>
<ol>
<li>接收用户输入</li>
<li>数据处理与计算</li>
<li>输出结果给用户</li>
</ol>
<a id="more"></a>
<p>UIApplication是应用程序在iOS系统中启动后生成的实例对象。是在iOS中运行的一个进程。<br>我将其视作iOS操作系统和App其他对象交互的一个接口。通过它可以完成很多系统级的操作。<br>本文将对UIApplication实例的创建过程和其提供的服务的简要介绍：</p>
<h1 id="UIApplication的创建过程">UIApplication的创建过程</h1><h2 id="main-mm——从main函数出发">main.mm——从main函数出发</h2><p>和所有C程序一样，OC的程序入口也是main函数。这是main.m文件中的内容：<br><figure class="highlight objectivec"><figcaption><span>Main函数 </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">char</span> * argv[]) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UIApplicationMain</span>(argc, argv, <span class="literal">nil</span>, <span class="built_in">NSStringFromClass</span>([AppDelegate class]));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>和C语言的第一课hello world程序一个模子，只是多了@autoreleasepool和UIApplicationMain函数。<br>这是App程序的入口，当App启动时，程序进入main函数，调用UIApplicationMain函数，并将UIApplicationMain函数创建的一系列对象放入自动释放池中。<br>UIApplicationMain将创建App程序的实例UIApplication对象和其代理UIAppcationDelegate实例。<br><img src="http://i3.tietuku.com/6e948efc59aaf344.png" alt=""></p>
<h2 id="UIApplicationMain">UIApplicationMain</h2><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> <span class="built_in">UIApplicationMain</span> ( <span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[], <span class="built_in">NSString</span> *principalClassName, <span class="built_in">NSString</span> *delegateClassName );</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>argc</td>
<td>The count of arguments in argv; this usually is the corresponding parameter to main.</td>
</tr>
<tr>
<td>argv</td>
<td>A variable list of arguments; this usually is the corresponding parameter to main.</td>
</tr>
<tr>
<td>principalClassName</td>
<td>The name of the UIApplication class or subclass. If you specify nil, UIApplication is assumed.</td>
</tr>
<tr>
<td>delegateClassName</td>
<td>The name of the class from which the application delegate is instantiated. If principalClassName designates a subclass of UIApplication, you may designate the subclass as the delegate; the subclass instance receives the application-delegate messages. Specify nil if you load the delegate object from your application’s main nib file.</td>
</tr>
</tbody>
</table>
<p>UIApplicationMain：</p>
<ol>
<li>根据提供的主类名实例化UIApplication对象（单例），如为nil则默认为UIApplication.</li>
<li>根据提供的代理类名实例化代理对象，如为nil则尝试从main nib文件中加载.</li>
<li>为UIApplication实例设置好代理对象.</li>
<li>开启main event loop，开始事件处理.</li>
</ol>
<hr>
<h1 id="UIApplication与AppDelegate">UIApplication与AppDelegate</h1><h2 id="进程信息">进程信息</h2><p>从操作系统的角度看，其为正在该系统中执行的一个程序实例，是可以分配给处理器执行的实体，简言之即进程。操作系统所要做的工作包括该进程的的生命周期管理和系统中一堆进程的调度管理。<br>为了管理进程，操作系统必须掌握进程的很多信息，其会在启动进程时会为进程完成一系列的初始化工作，其中就包括对PCB（进程控制块）的初始化工作。pcb中包括了进程标示符，进程名等一些基本属性。<br>就IOS而言，进程的这些信息可以通过NSProcessInfo来获取，例如：<br><figure class="highlight objectivec"><figcaption><span>NSLog</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"进程pid: %d"</span>,[[<span class="built_in">NSProcessInfo</span> processInfo]processIdentifier]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"进程名称：%@"</span>, [[<span class="built_in">NSProcessInfo</span> processInfo]processName]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"系统版本：%@"</span>, [[<span class="built_in">NSProcessInfo</span> processInfo]operatingSystemVersionString]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"主机名称：%@"</span>, [[<span class="built_in">NSProcessInfo</span> processInfo]hostName]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"物理内存：%llu"</span>, [[<span class="built_in">NSProcessInfo</span> processInfo]physicalMemory]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"处理器个数：%d"</span>,[[<span class="built_in">NSProcessInfo</span> processInfo]processorCount]);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight"><figcaption><span>我的IPHONE 4S输出结果：</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2015-04-21 14:38:36.928 Dota+[752:393214] &#36827;&#31243;pid:752&#10;2015-04-21 14:38:36.928 Dota+[752:393214] &#36827;&#31243;&#21517;&#31216;&#65306;Dota+&#10;2015-04-21 14:38:36.929 Dota+[752:393214] &#31995;&#32479;&#29256;&#26412;&#65306;Version 9.0 (Build 13A4293g)&#10;2015-04-21 14:38:37.052 Dota+[752:393214] &#20027;&#26426;&#21517;&#31216;&#65306;lolos-iphone&#10;2015-04-21 14:38:37.052 Dota+[752:393214] &#29289;&#29702;&#20869;&#23384;&#65306;528482304&#10;2015-04-21 14:38:37.053 Dota+[752:393214] &#22788;&#29702;&#22120;&#20010;&#25968;&#65306;2</span><br></pre></td></tr></table></figure>
<h2 id="进程生命周期与AppDelegate">进程生命周期与AppDelegate</h2><p>用户需要完成的工作是很多的，这意味着用户可能会在多个APP进程间来回切换，例如，我正在看新闻，然会切回QQ应用回复了一条信息，间隙中又接到一个电话。对操作系统而已，这其中要处理的就是对新闻应用，QQ应用，电话应用这3个APP进程的调度管理问题和这3个应用分别的生命状态转换问题。<br>操作系统对进程间的调度不需要我们关心，我们关心的是自己应用进程的状态转换。<br>于IOS而言，IOS APP进程有以下几种状态：</p>
<table>
<thead>
<tr>
<th>State</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Not running</td>
<td>The app has not been launched or was running but was terminated by the system.</td>
</tr>
<tr>
<td>Inactive</td>
<td>The app is running in the foreground but is currently not receiving events. (It may be executing other code though.) An app usually stays in this state only briefly as it transitions to a different state.</td>
</tr>
<tr>
<td>Active</td>
<td>The app is running in the foreground and is receiving events. This is the normal mode for foreground apps.</td>
</tr>
<tr>
<td>Background</td>
<td>The app is in the background and executing code. Most apps enter this state briefly on their way to being suspended. However, an app that requests extra execution time may remain in this state for a period of time. In addition, an app being launched directly into the background enters this state instead of the inactive state.</td>
</tr>
<tr>
<td>Suspended</td>
<td>The app is in the background but is not executing code. The system moves apps to this state automatically and does not notify them before doing so. While suspended, an app remains in memory but does not execute any code. When a low-memory condition occurs, the system may purge suspended apps without notice to make more space for the foreground app.</td>
</tr>
</tbody>
</table>
<p>当操作系统将要对APP状态进行转换时，会通过系统接口通知应用实例UIApplication对象，UIApplication对象根据UIApplicationDelegate协议将进程状态转换的工作代给理AppDelegate对象。例如：app将要进入后台时，可能需要将正在播放的音乐暂停，或将未写入磁盘的内存写入等。<br>UIApplication对象中的 UIApplicationState 属性记录了当前应用的状态属性，可以通过以下代码获取：<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIApplicationState</span> state = [[<span class="built_in">UIApplication</span> sharedApplication]applicationState];</span><br></pre></td></tr></table></figure></p>
<p>state值等于以下中的一个：<br><figure class="highlight objectivec"><figcaption><span>UIApplicationState</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> : <span class="built_in">NSInteger</span> </span><br><span class="line">&#123;</span><br><span class="line">   <span class="built_in">UIApplicationStateActive</span>,</span><br><span class="line">   <span class="built_in">UIApplicationStateInactive</span>,</span><br><span class="line">   <span class="built_in">UIApplicationStateBackground</span> </span><br><span class="line">&#125; <span class="built_in">UIApplicationState</span>;</span><br></pre></td></tr></table></figure></p>
<p><strong>AppDelegate</strong>对象遵循 UIApplicationDelegate protocol以响应UIApplication发给它的状态转换消息。<br>UIApplicationDelegate protocol包含以下状态转换方法：</p>
<ul>
<li>Launch time:<ul>
<li><code>application:willFinishLaunchingWithOptions:</code></li>
<li><code>application:didFinishLaunchingWithOptions:</code></li>
</ul>
</li>
<li>Transitioning to the foreground：<ul>
<li><code>applicationDidBecomeActive:</code></li>
</ul>
</li>
<li>Transitioning to the background:<ul>
<li><code>applicationDidEnterBackground:</code></li>
</ul>
</li>
<li>Transitioning to the inactive state:<ul>
<li><code>applicationWillResignActive: (Called when leaving the foreground state.)</code></li>
<li><code>applicationWillEnterForeground: (Called when transitioning out of the background state.)</code></li>
</ul>
</li>
<li>Termination:<ul>
<li><code>applicationWillTerminate: (Called only when the app is running. This method is not called if the app is suspended.)</code></li>
</ul>
</li>
</ul>
<p><br></p>
<h1 id="UIApplication的应用">UIApplication的应用</h1><h2 id="事件处理">事件处理</h2><p>UIApplication负责的另外一个首要任务就是事件处理：<br><img src="http://i1.tietuku.com/dd51a51b1c13d769.png" alt=""><br>在main run loop中接收到的用户事件，系统交由UIApplication对象进行处理，UIApplication对象再通过其持有的UIWindow对象，向UIWindow和UIWindow所持有的各级UIView进行事件分发。<br>因此可以将UIApplication视作事件分发的源头:<br><img src="http://i1.tietuku.com/4e5a56058c7c004c.jpg" alt=""></p>
<p>以下是UIApplication提供的关于事件和动作的方法的几个常见应用：</p>
<h3 id="Event">Event</h3><ul>
<li><p>事件：<code>- (void)sendEvent:(UIEvent * _Nonnull)event</code></p>
<ul>
<li><p>事件拦截。<a href="http://blog.csdn.net/sakulafly/article/details/18792631" target="_blank" rel="external">曾在一BLOG上看见过一例子</a>。</p>
</li>
<li><p>暂停触摸事件</p>
<pre><code><span class="collection">[<span class="collection">[UIApplication sharedApplication]</span>beginIgnoringInteractionEvents]</span><span class="comment">;</span>
</code></pre><p><br></p>
</li>
<li><p>恢复触摸事件</p>
<pre><code><span class="collection">[<span class="collection">[UIApplication sharedApplication]</span>endIgnoringInteractionEvents]</span><span class="comment">;</span>
</code></pre></li>
</ul>
</li>
</ul>
<h3 id="Action">Action</h3><ul>
<li><p>动作消息:<code>- (BOOL)sendAction:(SEL)action to:(id)target from:(id)sender forEvent:(UIEvent *)event</code></p>
<ul>
<li><strong>关闭键盘</strong><br>  通过UIApolication对象的sendAction方法，发送resignFirstResponder消息，不管当前第一响应者是谁都可以resign且关闭键盘，因为当(id)target参数为nil时,将直接向当前的FirstResponder对象发送该动作消息。一行代码解决:<pre><code><span class="attr_selector">[[UIApplication sharedApplication]</span> <span class="tag">sendAction</span>:@<span class="tag">selector</span>(resignFirstResponder) 
                                    <span class="tag">to</span><span class="pseudo">:nil</span> <span class="tag">from</span><span class="pseudo">:nil</span> 
                                    <span class="tag">forEvent</span><span class="pseudo">:nil</span>];
</code></pre><br>          </li>
<li><p><strong>方法调用</strong><br>  这个方法也可以用来在任何对象中调用选择器方法，某些情况下适用，如：</p>
<pre><code><span class="comment">//调用AppDelegate中的bringScrollViewToFront方法</span>
 <span class="attr_selector">[[UIApplication sharedApplication]</span><span class="tag">sendAction</span>:@<span class="tag">selector</span>(bringScrollViewToFront) 
                                    <span class="tag">to</span>:<span class="attr_selector">[[UIApplication sharedApplication]</span><span class="tag">delegate</span>] 
                                    <span class="tag">from</span><span class="pseudo">:nil</span> 
                                    <span class="tag">forEvent</span><span class="pseudo">:nil</span>]; 
</code></pre></li>
</ul>
</li>
</ul>
<h3 id="Shake">Shake</h3><ul>
<li><p>Shake 事件: <code>applicationSupportsShakeToEdit</code></p>
<ul>
<li><p>典型应用：<strong>摇一摇</strong>,写出来的代码大致是这样的:<br>  1.设置applicationSupportsShakeToEdit属性</p>
<pre><code><span class="tag">-</span> (void)<span class="tag">viewDidLoad</span>
{
    <span class="attr_selector">[super viewDidLoad]</span>;
    <span class="comment">// applicationSupportsShakeToEdit 默认就为YES</span>
    <span class="attr_selector">[[UIApplication sharedApplication]</span><span class="tag">setApplicationSupportsShakeToEdit</span><span class="pseudo">:YES</span>];
}    
</code></pre><p>  2.设置当前Controller为FirstResponder</p>
<pre><code><span class="comment">//重写</span>
<span class="tag">-</span> (BOOL)<span class="tag">canBecomeFirstResponder</span>
{
    <span class="tag">return</span> <span class="tag">YES</span>；
}

<span class="tag">-</span>(void)<span class="tag">viewDidAppear</span>:(BOOL)<span class="tag">animated</span> 
{
    <span class="attr_selector">[super viewDidAppear:animated]</span>;
    <span class="attr_selector">[self becomeFirstResponder]</span>;
}

<span class="tag">-</span> (void)<span class="tag">viewWillDisappear</span>:(BOOL)<span class="tag">animated</span> 
{
    <span class="attr_selector">[self resignFirstResponder]</span>;
    <span class="attr_selector">[super viewWillDisappear:animated]</span>;
}
</code></pre><p>  3.事件处理</p>
<pre><code>- (<span class="keyword">void</span>)motionBegan:(<span class="built_in">UIEventSubtype</span>)motion withEvent:(nullable <span class="built_in">UIEvent</span> *)event
{
    <span class="keyword">if</span> (motion == <span class="built_in">UIEventSubtypeMotionShake</span>) {
        <span class="built_in">NSLog</span>(<span class="string">@"shake begin"</span>);
    }
}

- (<span class="keyword">void</span>)motionEnded:(<span class="built_in">UIEventSubtype</span>)motion withEvent:(nullable <span class="built_in">UIEvent</span> *)event
{
    <span class="keyword">if</span> (motion == <span class="built_in">UIEventSubtypeMotionShake</span>) {
        <span class="built_in">NSLog</span>(<span class="string">@"shake end"</span>);
    }
}
</code></pre></li>
</ul>
</li>
</ul>
<h2 id="URL资源">URL资源</h2><ul>
<li><p>sms： 发送消息</p>
  <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication]openURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"sms:10086"</span>]];</span><br></pre></td></tr></table></figure>
</li>
<li><p>tel： 拨打电话</p>
  <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication]openURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"tel:10086"</span>]];</span><br></pre></td></tr></table></figure>
</li>
<li><p>mailto： 发送邮件</p>
   <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication]openURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"mailTo:?to=xx&amp;cc=xx&amp;bcc=xx&amp;subject=xx&amp;body=xx"</span>]];</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开网页</p>
  <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication]openURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://www.baidu.com"</span>]];</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开其他应用程序</p>
<ul>
<li><a href="http://www.cnblogs.com/zhw511006/archive/2011/11/28/2266587.html" target="_blank" rel="external">转载：应用程序间通信 openURL:用法总结</a></li>
</ul>
</li>
</ul>
<h3 id="未完待续">未完待续</h3></span>
      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/05/26/IOS_Objectivec/IOS_objc_1_compiler/" rel="prev">Objective-C——Compiler</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/05/01/Fall Forward/" rel="next">Fall Forward</a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


            </div>

            

            
              <div class="comments" id="comments">
                
              </div>
            
        </div>

        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目錄
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            本站概覽
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/img/logo.png" alt="Lolo" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Lolo</p>
        </div>
        <p class="site-description motion-element" itemprop="description">hitlolo's Blog | IOS</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">12</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">分類</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">2</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/hitlolo" target="_blank">github</a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name">Links</p>
            
              <span class="links-of-author-item">
              <a href="https://developer.apple.com/library" target="_blank">Apple Lib</a>
              </span>
            
              <span class="links-of-author-item">
              <a href="http://developer.android.com/index.html" target="_blank">Android</a>
              </span>
            
              <span class="links-of-author-item">
              <a href="http://stackoverflow.com/" target="_blank">StackOverflow</a>
              </span>
            
          
        </div>

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#UIApplication的创建过程"><span class="nav-number">2.</span> <span class="nav-text">UIApplication的创建过程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#main-mm——从main函数出发"><span class="nav-number">2.1.</span> <span class="nav-text">main.mm——从main函数出发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UIApplicationMain"><span class="nav-number">2.2.</span> <span class="nav-text">UIApplicationMain</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#UIApplication与AppDelegate"><span class="nav-number">3.</span> <span class="nav-text">UIApplication与AppDelegate</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#进程信息"><span class="nav-number">3.1.</span> <span class="nav-text">进程信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#进程生命周期与AppDelegate"><span class="nav-number">3.2.</span> <span class="nav-text">进程生命周期与AppDelegate</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#UIApplication的应用"><span class="nav-number">4.</span> <span class="nav-text">UIApplication的应用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#事件处理"><span class="nav-number">4.1.</span> <span class="nav-text">事件处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Event"><span class="nav-number">4.1.1.</span> <span class="nav-text">Event</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Action"><span class="nav-number">4.1.2.</span> <span class="nav-text">Action</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Shake"><span class="nav-number">4.1.3.</span> <span class="nav-text">Shake</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#URL资源"><span class="nav-number">4.2.</span> <span class="nav-text">URL资源</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#未完待续"><span class="nav-number">4.2.1.</span> <span class="nav-text">未完待续</span></a></li></ol></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
        <div class="footer-inner">
            



<div class="copyright">
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  
  <span class="author" itemprop="copyrightHolder">Lolo</span>
 


</div>



<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



        </div>
    </footer>

    <div class="back-to-top"></div>
</div>

<script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.4"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.4"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.4" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>


  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.4" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



<script type="text/javascript">
    $(document).ready(function () {
        if (CONFIG.sidebar === 'always') {
            displaySidebar();
        }
    });
</script>








<!-- lazyload -->
<script type="text/javascript" src="/js/lazyload.js"></script>
<script type="text/javascript">
    jQuery(function () {
        jQuery("#posts img").lazyload({
            placeholder: "/images/loading.gif",
            effect: "fadeIn"
        });
    });
</script>
</body>
</html>
